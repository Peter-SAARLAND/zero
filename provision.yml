---
- name: "AWS: Enable root access"
  import_playbook: playbooks/aws.yml
  when: apollo_provider == "aws"

- name: "@apollo-network"
  import_playbook: playbooks/apollo-network.yml
  tags:
    - print_action

- name: "@apollo-core"
  import_playbook: playbooks/apollo-core.yml
  tags:
    - print_action

- name: "@apollo-orchestrator"
  import_playbook: playbooks/apollo-orchestrator.yml
  tags:
    - print_action

- name: "@apollo-data"
  import_playbook: playbooks/apollo-data.yml
  tags:
    - print_action

- name: "@apollo-backplane"
  import_playbook: playbooks/apollo-backplane.yml
  when: backplane_enabled|bool
  
- name: "@apollo-apps"
  import_playbook: playbooks/apollo-apps.yml
  when: apollo_apps|length > 0

- name: "@apollo-runner"
  import_playbook: playbooks/provision-runner.yml
  when: runner_enabled|bool

