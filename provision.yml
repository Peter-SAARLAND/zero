---
- name: "AWS: Enable root access"
  import_playbook: playbooks/aws.yml
  when: apollo_provider == "aws"

- name: "@apollo-spaces"
  import_playbook: playbooks/apollo-spaces.yml
  tags:
    - print_action

- name: "@apollo-federation"
  import_playbook: playbooks/apollo-federation.yml
  tags:
    - print_action
  when: apollo_federation_enabled|bool

- name: "@apollo-network"
  import_playbook: playbooks/apollo-network.yml
  tags:
    - print_action

- name: "@apollo-core"
  import_playbook: playbooks/apollo-core.yml
  tags:
    - print_action

- name: "@apollo-engine"
  import_playbook: playbooks/apollo-engine.yml
  tags:
    - print_action

- name: "@apollo-orchestrator"
  import_playbook: playbooks/apollo-orchestrator.yml
  tags:
    - print_action

- name: "@apollo-data"
  import_playbook: playbooks/apollo-data.yml
  tags:
    - print_action

- name: "@apollo-backplane"
  import_playbook: playbooks/apollo-backplane.yml
  when: apollo_backplane_enabled|bool
  tags:
    - "provision_backplane"
  
- name: "@apollo-apps"
  import_playbook: playbooks/apollo-apps.yml
  when: apollo_apps|length > 0
  tags:
    - "provision_apps"

- name: "@apollo-runner"
  import_playbook: playbooks/provision-runner.yml
  when: apollo_runner_enabled|bool

